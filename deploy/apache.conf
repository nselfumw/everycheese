<VirtualHost *:80>
    ServerAdmin webmaster@localhost
    ServerName everycheese.selfontheinter.net

    RewriteEngine on
    RewriteCond %{SERVER_NAME} =everycheese.selfontheinter.net
    RewriteRule ^ https://%{SERVER_NAME}%{REQUEST_URI} [END,NE,R=permanent]
</VirtualHost>

<VirtualHost *:443>
    ServerAdmin webmaster@localhost
    DocumentRoot /var/www/html

    ServerName everycheese.selfontheinter.net

    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined

    Alias /static /home/faculty/nself/dev/everycheese/staticfiles
    <Directory /home/faculty/nself/dev/everycheese/staticfiles>
        Require all granted
    </Directory>

    <Directory /home/faculty/nself/dev/everycheese/config>
        <Files wsgi.py>
            Require all granted
        </Files>
    </Directory>

    WSGIDaemonProcess selfontheinternetcheese python-home=/home/faculty/nself/.venvs/django python-path=/home/faculty/nself/dev/everycheese
    WSGIProcessGroup selfontheinternetcheese
    WSGIScriptAlias / /home/faculty/nself/dev/everycheese/config/wsgi.py
</VirtualHost>
